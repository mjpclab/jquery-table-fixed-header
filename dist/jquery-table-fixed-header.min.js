!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e["jquery-table-fixed-header"]=t(e.jQuery)}(this,function(x){"use strict";x=x&&x.hasOwnProperty("default")?x["default"]:x;var n=Boolean(window.ActiveXObject&&!window.XMLHttpRequest),e=Boolean(window.ActiveXObject&&window.XMLHttpRequest&&!document.documentMode),t=Boolean(window.ActiveXObject&&window.XMLHttpRequest&&document.documentMode&&!window.XMLSerializer),o={headerRows:1,fixedClass:"table-fixed-header regular-table-fixed-header",fixedTop:0};function r(e){"function"!=typeof e.fixedTop&&(e.fixedTop=parseInt(e.fixedTop))}var d=/\s+/g,a=" ",f=".";function c(e,t){var i=function n(e){return(a+e).replace(d,f)}(t);return e.filter("table:not(".concat(i,")"))}function b(e){return"function"==typeof e?e():e}function y(e,t){return e.find("tr:lt("+t+")")}var s={margin:"0",padding:"0","table-layout":"fixed",visibility:"hidden",position:"fixed"};function g(e,t){var i=t.headerRows,n=t.fixedClass,o=e.clone(),r=y(o,i),d=r.parent();return o.find("tr").not(r).remove(),o.children().not(d).remove(),o.removeAttr("id").find("[id]").removeAttr("id"),o.addClass(n),o.css(s),o}var l=window.getComputedStyle?function(e){var t=window.getComputedStyle(e[0]).width;return parseFloat(t)}:e?function(e){var t=parseInt(e.css("border-left-width"))||0,i=parseInt(e.css("border-right-width"))||0;return e.width()+(t+i)/2}:function(e){return e.width()},u=e||t?function(e,t){e.width(t.outerWidth())}:function(e,t){e.width(l(t))};function m(e,o){e.each(function(e,t){var i=x(t),n=o.eq(e);u(i.parent(),n.parent()),i.children().each(function(e,t){var i=x(t),o=n.children().eq(e);i.children().each(function(e,t){var i=x(t),n=o.children().eq(e);i.width(l(n))})})})}var h=x(window);var p={headerRows:1,fixedClass:"table-fixed-header container-table-fixed-header",fixedTop:0,scrollContainer:""},T=x(window);return x.fn.tableFixedHeader=function(e){return n?this:e&&e.scrollContainer?function t(e){var o=x.extend({},p,this.data(),e);r(o);var w=o.fixedTop;return c(this,o.fixedClass).each(function(e,t){var l=x(t),i=y(l,o.headerRows);if(i.length){var c=i.parent(),u=l.closest(o.scrollContainer).eq(0);if(u.length){var n=u.css("position");""!==n&&"static"!==n||u.css("position","relative");var h=g(l,o);l.after(h);var p=!1,v=function v(){if(!p&&!l.is(":hidden")){p=!0,m(h.children(),c);var e=b(w),t=u.scrollTop()+e,i=l[0].offsetTop;if(i<=t&&t+h.outerHeight()<=i+l.outerHeight()){var n,o,r,d,a=l.outerWidth(),f=u[0].clientWidth-l[0].offsetLeft+u.scrollLeft();o=f<a?(n=f+"px",a-f+"px"):(n="auto","0");var s=u.scrollLeft()-l[0].offsetLeft;d=0<s?r=s+"px":(r="auto","0"),h.css({top:Math.round(u.offset().top-T.scrollTop()+e)+"px",left:l.offset().left-T.scrollLeft()+"px",clip:"rect(auto "+n+" auto "+r+")","clip-path":"inset(0 "+o+" 0 "+d+")",visibility:"visible"})}else h.css("visibility","hidden");p=!1}};T.on("scroll",v),u.on("scroll",v),u.on("resize",v),v()}}}),this}.call(this,e):function i(e){var s=x.extend({},o,this.data(),e);r(s);var l=s.fixedTop;return c(this,s.fixedClass).each(function(e,t){var n=x(t),i=y(n,s.headerRows);if(i.length){var o=i.parent(),r=h,d=g(n,s);n.after(d);var a=!1,f=function f(){if(!a&&!n.is(":hidden")){a=!0,m(d.children(),o);var e=b(l),t=r.scrollTop()+e,i=n[0].offsetTop;i<=t&&t+d.outerHeight()<=i+n.outerHeight()?d.css({top:e+"px",left:n.offset().left-h.scrollLeft()+"px",visibility:"visible"}):d.css("visibility","hidden"),a=!1}};h.on("scroll",f),h.on("resize",f),f()}}),this}.call(this,e)},function i(){x("table.fixed-header").tableFixedHeader()}(),x});
