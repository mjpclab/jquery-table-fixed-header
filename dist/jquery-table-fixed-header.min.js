!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["jquery-table-fixed-header"]=t(e.jQuery)}(this,(function(e){"use strict";var t={headerRows:1,fixedClass:"table-fixed-header regular-table-fixed-header",fixedTop:0};function i(e){"function"!=typeof e.fixedTop&&(e.fixedTop=parseInt(e.fixedTop))}var n=/\s+/g,r=" ",o=".";function a(e,t){var i=(r+t).replace(n,o);return e.filter("table:not(".concat(i,")"))}function l(e,t){return e.find("tr:lt("+t+")")}var f={margin:"0",padding:"0","table-layout":"fixed",visibility:"hidden",position:"fixed"};function s(t,i){t.each((function(t,n){var r,o,a=e(n),l=i.eq(t);r=a.parent(),o=l.parent(),r.css("width",o.outerWidth()),a.children().each((function(t,i){var n=e(i),r=l.children().eq(t);n.children().each((function(t,i){var n=e(i),o=r.children().eq(t);n.width(function(e,t){var i=t[0].clientWidth,n=getComputedStyle(e[0]);return i-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)}(n,o))}))}))}))}var d=e([]);function c(t,i,n,r,o){var a=e(t),c={$table:a,options:i,$scrollContainer:d},u=i.headerRows,h=i.fixedTop,p=l(a,u);if(p.length){var v=p.parent(),x=c.$scrollContainer=n(c);if(x.length){var b=function(e,t){var i=t.headerRows,n=t.fixedClass,r=e.clone(),o=l(r,i),a=o.parent();return r.find("tr").not(o).remove(),r.children().not(a).remove(),r.removeAttr("id").find("[id]").removeAttr("id"),r.addClass(n),r.css(f),r}(a,i);a.after(b);var C=!1,g=function(){if(!C&&!a.is(":hidden")){C=!0,s(b.children(),v);var e,t="function"==typeof(e=h)?e():e,i=x.scrollTop()+t,n=a[0].offsetTop;if(i>=n&&i+b.outerHeight()<=n+a.outerHeight()){var o=r(t,c);o.visibility="visible",b.css(o)}else b.css("visibility","hidden");C=!1}};o(g,c),g()}}}var u=e(window);function h(n){var r=e.extend({},t,this.data(),n);return i(r),a(this,r.fixedClass).each((function(e,t){c(t,r,(function(){return u}),(function(e,t){var i=t.$table,n=t.$scrollContainer;return{top:e+"px",left:i.offset().left-n.scrollLeft()+"px"}}),(function(e,t){var i=t.$scrollContainer;i.on("scroll",e),i.on("resize",e)}))})),this}var p={headerRows:1,fixedClass:"table-fixed-header container-table-fixed-header",fixedTop:0,scrollContainer:""},v=e(window);function x(t){var n=e.extend({},p,this.data(),t);return i(n),a(this,n.fixedClass).each((function(e,t){c(t,n,(function(e){var t=e.$table,i=e.options,n=t.closest(i.scrollContainer).eq(0);if(n.length){var r=n.css("position");""!==r&&"static"!==r||n.css("position","relative")}return n}),(function(e,t){var i,n,r,o,a=t.$table,l=t.$scrollContainer,f=a.outerWidth(),s=l[0].clientWidth-a[0].offsetLeft+l.scrollLeft();s<f?(i=s+"px",n=f-s+"px"):(i="auto",n="0");var d=l.scrollLeft()-a[0].offsetLeft;return d>0?(r=d+"px",o=d+"px"):(r="auto",o="0"),{top:Math.round(l.offset().top-v.scrollTop()+e)+"px",left:a.offset().left-v.scrollLeft()+"px",clip:"rect(auto "+i+" auto "+r+")","clip-path":"inset(0 "+n+" 0 "+o+")"}}),(function(e,t){var i=t.$scrollContainer;v.on("scroll",e),v.on("resize",e),i.on("scroll",e),i.on("resize",e)}))})),this}return e.fn.tableFixedHeader=function(e){return e&&e.scrollContainer?x.call(this,e):h.call(this,e)},e("table.fixed-header").tableFixedHeader(),e}));
