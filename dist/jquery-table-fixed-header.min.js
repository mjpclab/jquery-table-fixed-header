!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e["jquery-table-fixed-header"]=t(e.jQuery)}(this,function(x){"use strict";x=x&&x.hasOwnProperty("default")?x["default"]:x;var o=Boolean(window.ActiveXObject&&!window.XMLHttpRequest),e=Boolean(window.ActiveXObject&&window.XMLHttpRequest&&!document.documentMode),t=Boolean(window.ActiveXObject&&window.XMLHttpRequest&&document.documentMode&&!window.XMLSerializer),r=window.getComputedStyle?function(e){var t=window.getComputedStyle(e[0]).width;return parseFloat(t)}:e?function(e){var t=parseInt(e.css("border-left-width"))||0,i=parseInt(e.css("border-right-width"))||0;return e.width()+(t+i)/2}:function(e){return e.width()};function b(e,t){return e.find("tr:lt("+t+")")}function y(e,t){var i=e.clone(),o=b(i,t),n=o.parent();return i.find("tr").not(o).remove(),i.children().not(n).remove(),i.removeAttr("id").find("[id]").removeAttr("id"),i}var d=e||t?function(e,t){e.width(t.outerWidth())}:function(e,t){e.width(r(t))};function g(e,n){e.each(function(e,t){var i=x(t),o=n.eq(e);d(i.parent(),o.parent()),i.children().each(function(e,t){var i=x(t),n=o.children().eq(e);i.children().each(function(e,t){var i=x(t),o=n.children().eq(e);i.width(r(o))})})})}var T={margin:"0",padding:"0","table-layout":"fixed",visibility:"hidden",position:"fixed"};return x.fn.tableFixedHeader=function(e){return o?this:e&&e.scrollContainer?function t(e){var n=x.extend({},{headerRows:1,fixedClass:"container-table-fixed-header",fixedTop:0,scrollContainer:""},this.data(),e);"function"!=typeof n.fixedTop&&(n.fixedTop=parseInt(n.fixedTop));var v=x(window),w=function w(){return"function"==typeof n.fixedTop?n.fixedTop():n.fixedTop};return this.filter("table:not(."+n.fixedClass+")").each(function(e,t){var l=x(t),i=b(l,n.headerRows);if(i.length){var c=i.parent(),p=l.data("cloned");if(p){var o=y(l,n.headerRows);p.empty().append(o.children()),g(p.children(),c)}else{var u=l.closest(n.scrollContainer).eq(0);if(!u.length)return;""!==u.css("position")&&"static"!==u.css("position")||u.css("position","relative"),(p=y(l,n.headerRows)).addClass(n.fixedClass),p.css(T),l.data("cloned",p),l.after(p),l.data("positioning",!1);var h=function h(){if(l.is(":visible")&&!l.data("positioning")){l.data("positioning",!0),g(p.children(),c);var e=w(),t=u.scrollTop()+e,i=l[0].offsetTop;if(i<=t&&t+p.outerHeight()<=i+l.outerHeight()){var o,n,r,d,a=l.outerWidth(),s=u[0].clientWidth-l[0].offsetLeft+u.scrollLeft();n=s<a?(o=s+"px",a-s+"px"):(o="auto","0");var f=u.scrollLeft()-l[0].offsetLeft;d=0<f?r=f+"px":(r="auto","0"),p.css({top:Math.round(u.offset().top-v.scrollTop()+e)+"px",left:l.offset().left-v.scrollLeft()+"px",clip:"rect(auto "+o+" auto "+r+")","clip-path":"inset(0 "+n+" 0 "+d+")",visibility:"visible"})}else p.css("visibility","hidden");l.data("positioning",!1)}};u.scroll(h),v.scroll(h),v.resize(h),h()}}}),this}.call(this,e):function i(e){var f=x.extend({},{headerRows:1,fixedClass:"table-fixed-header",fixedTop:0},this.data(),e);"function"!=typeof f.fixedTop&&(f.fixedTop=parseInt(f.fixedTop));var l=x(window),c=function c(){return"function"==typeof f.fixedTop?f.fixedTop():f.fixedTop};return this.filter("table:not(."+f.fixedClass+")").each(function(e,t){var o=x(t),i=b(o,f.headerRows);if(i.length){var n=i.parent(),r=o.data("cloned");if(r){var d=y(o,f.headerRows);r.empty().append(d.children()),g(r.children(),n)}else{var a=l;(r=y(o,f.headerRows)).addClass(f.fixedClass),r.css(T),o.data("cloned",r),o.after(r),o.data("positioning",!1);var s=function s(){if(o.is(":visible")&&!o.data("positioning")){o.data("positioning",!0),g(r.children(),n);var e=c(),t=a.scrollTop()+e,i=o.offset().top;i<=t&&t+r.outerHeight()<=i+o.outerHeight()?r.css({top:e+"px",left:o.offset().left-l.scrollLeft()+"px",visibility:"visible"}):r.css("visibility","hidden"),o.data("positioning",!1)}};l.scroll(s),l.resize(s),s()}}}),this}.call(this,e)},x("table.fixed-header").tableFixedHeader(),x});
